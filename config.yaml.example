# Example configuration file for Bitbucket Galaxy Code Review

# Bitbucket API configuration
bitbucket:
  username: "your_bitbucket_username"
  app_password: "your_bitbucket_app_password"
  api_url: "https://api.bitbucket.org/2.0/"

# Reviewer agent configuration
reviewer:
  # Model provider: "openai", "anthropic", or "deepseek"
  provider: "openai"
  # Model name to use (depends on the provider)
  # For OpenAI: "gpt-4", "gpt-3.5-turbo", etc.
  # For Anthropic: "claude-3-opus-20240229", "claude-3-sonnet-20240229", etc.
  # For DeepSeek: "deepseek-chat", "deepseek-coder", etc.
  model: "gpt-4"
  temperature: 0.2
  # Optional: API keys for different providers (can also use environment variables)
  # api_key: "your_openai_api_key"  # For OpenAI (or use OPENAI_API_KEY env var)
  # anthropic_api_key: "your_anthropic_api_key"  # For Claude (or use ANTHROPIC_API_KEY env var)
  # deepseek_api_key: "your_deepseek_api_key"  # For DeepSeek (or use DEEPSEEK_API_KEY env var)

# Feedback collection configuration
feedback:
  # Directory to store feedback data
  storage_dir: "feedback_data"
  # Enable feedback collection in comments
  enable_links: true
  # Use Bitbucket reactions for feedback (preferred method)
  use_reactions: true
  # Feedback server URL (used in feedback links if use_reactions is false)
  server_url: "http://localhost:8000"
  # Default repository slug for collecting reactions (optional)
  # default_repo: "workspace/repo-slug"

# Fine-tuning configuration
fine_tuning:
  # Base model to use for fine-tuning
  base_model: "gpt-3.5-turbo"
  # Directory to store training data files
  training_file_dir: "training_data"
  # Minimum number of feedback records required for fine-tuning
  min_records: 10
  # Minimum rating threshold for including feedback in training
  min_rating: 4
  # Number of epochs for fine-tuning
  epochs: 3

# Optional environment variables to set
# env_vars:
#   OPENAI_API_KEY: "your_openai_api_key"

# Custom review rules (optional)
# rules:
#   security:
#     enabled: true
#     severity: "error"
#   performance:
#     enabled: true
#     severity: "warning"
#   style:
#     enabled: true
#     severity: "info"

# Files to exclude from review (optional)
# exclude:
#   - "*.min.js"
#   - "node_modules/**"
#   - "vendor/**"
#   - "**/__pycache__/**"